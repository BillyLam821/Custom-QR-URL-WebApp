{% extends 'base.html' %}

{% block title %}
Sign In / Register
{% endblock %}

{% block main %}

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
            <div class="alert {{ category }}"> {{ message|capitalize }} </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <h2>* This Page is WIP *</h2>
    <!-- Signed In -->
    {% if current_user.is_authenticated %}
    <p>You are already signed in!</p>
    <a href="{{url_for('auth.logout')}}">Press here to logout</a>

    <!-- NOT Signed In -->
    {% else %}
    <div class="row">
        <button type="button" class="btn btn-primary btn-lg col signBtn">Sign In</button>
        <button type="button" class="btn btn-secondary btn-lg col regBtn">Register</button>
    </div>

    <form class="authForm signForm mt-4" action="" method="POST" enctype="multipart/form-data">
        {{ signForm.hidden_tag() }}
        <div class="form-group">
            <label>Username / Email address</label>
            {{ signForm.username(class_="form-control") }}
        </div>
        <div class="form-group">
            <label>Password</label>
            {{ signForm.password(class_="form-control") }}
        </div>
        <div class="form-group">
            {{ signForm.submit(class_="btn btn-primary") }}
        </div>
    </form>

    <form class="authForm regForm mt-4" action="" method="POST" enctype="multipart/form-data">
        {{ regForm.hidden_tag() }}
        <div class="form-group">
            <label>Username</label>
            {{ regForm.username(class_="form-control") }}
        </div>
        <div class="form-group">
            <label>Password</label>
            {{ regForm.password(class_="form-control") }}
        </div>
        <div class="form-group">
            {{ regForm.submit(class_="btn btn-primary") }}
        </div>
    </form>
    {% endif %}
{% endblock %}